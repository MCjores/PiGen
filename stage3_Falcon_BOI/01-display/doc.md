# Настройка экрана
Для работы экрана "Waveshare 10.1 (1024x600)", установливаемого
в "ЛРБ-02А" необходимо установить драйверы с
[cайта](https://www.waveshare.com/wiki/10.1inch_HDMI_LCD) производителя.
Существует две ревизии данного экрана:

![Различия ревизий](/images/hardware/displays/10.1inch-HDMI-LCD-Manual-03-01.jpg)

* Новая - RTD2660 (слева)
* Старая - TFP401 (справа)

У старой ревизии отсутствуют кнопки экранного меню, а изображение перевёрнуто на 180&deg;.

## Особенности

### Совместимость с Raspberry Pi
> [!WARNING]
> Экспериментально установлено (на старой ревизии),
> что сенсорная панель дисплея работает только на Raspberry Pi 2B

При подключении дисплея к Raspberry Pi 3 через разъём GPIO
на дисплее система не запускается.

При подключении только выводов, помеченных "Used PIN" сенсорная
панель отрабатывает только одно касание.

### Особенности драйвера

Данный дисплей определяется в системе не как сенсорная панель,
а как мышь. Поэтому он не формирует "touch"-событий.

Кроме того, драйвер дисплея неправильно формирует события нажатия
и отпускания кнопки мыши. При нажатии на дисплей событие нажатия
мыши формируется не сразу, а только спустя секунду удержания
в нажатом состоянии. Однако если нажать на дисплей и тут же
отпустить, то будет сформировано событие нажатия мыши и и в тот же
момент отпускания. Это вызывает трудности при разработке интерфейсов
Предполагающих раздельные действия на события нажатия и отпускания
мыши.

## Установка драйверов

Штатная процедура установки драйверов дисплея предполагает полную перезапись некоторых системных файлов исправленными версиями от
производителя. Это недопустимо, поскольку системные файлы
дистрибутива уже содержат некоторые изменения. Поэтому сценарий
установки переписан. За основу взят файл "LCD101-1024x600-show".

## Калибровка дисплея

Штатный файл калибровки не соответствует геометрии дисплея.
Поэтому для случайного экземпляра дисплея была выполнена
калибровка с помощью утилиты "xinput-calibrator", после чего
был сформирован новый файл "99-calibration.conf".